<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Safeeka | Happy Valentine's Day</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap');

        body {
            margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center;
            background: radial-gradient(circle, #4a0000, #1a0000, #000);
            color: white; font-family: 'Poppins', sans-serif; overflow: hidden;
        }

        /* --- RED GIFT BOX --- */
        .box-container { text-align: center; cursor: pointer; z-index: 100; }
        .box {
            width: 180px; height: 180px; background: #d63031; position: relative;
            margin: 0 auto; border-radius: 10px; box-shadow: 0 20px 60px rgba(214, 48, 49, 0.4);
        }
        .box::after { content: ''; position: absolute; width: 35px; height: 100%; background: #fff; left: 72.5px; opacity: 0.8; }
        .box::before { content: ''; position: absolute; width: 100%; height: 35px; background: #fff; top: 72.5px; opacity: 0.8; }
        .lid {
            width: 200px; height: 45px; background: #d63031; border: 2px solid #fff;
            position: absolute; top: -15px; left: -10px; transition: 0.8s; z-index: 2; border-radius: 5px;
        }

        /* --- HEART CAKE --- */
        #cake-stage { display: none; flex-direction: column; align-items: center; text-align: center; }
        .heart-cake {
            width: 200px; height: 180px; background: #ff4d6d; position: relative;
            transform: rotate(-45deg); cursor: pointer; margin-top: 50px;
            box-shadow: 0 10px 40px rgba(255, 77, 109, 0.5);
            animation: pulse 1.5s infinite;
        }
        .heart-cake:before, .heart-cake:after {
            content: ""; width: 200px; height: 200px; background: #ff4d6d;
            border-radius: 50%; position: absolute;
        }
        .heart-cake:before { top: -100px; left: 0; }
        .heart-cake:after { left: 100px; top: 0; }

        /* --- FINAL REVEAL --- */
        #final-reveal { display: none; text-align: center; width: 90%; max-width: 500px; animation: popIn 1s forwards; }
        .love-name {
            font-family: 'Great Vibes', cursive; font-size: 4.5rem; margin: 0;
            color: #ff4d6d; text-shadow: 0 0 15px rgba(255, 77, 109, 0.6);
        }
        .message-card {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            padding: 25px; border-radius: 20px; margin-top: 25px;
            border: 1px solid rgba(255, 77, 109, 0.3);
        }
        .message-card p { font-size: 1.1rem; line-height: 1.6; font-style: italic; }

        @keyframes pulse { 0% { transform: rotate(-45deg) scale(1); } 50% { transform: rotate(-45deg) scale(1.1); } 100% { transform: rotate(-45deg) scale(1); } }
        @keyframes popIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

    <div class="box-container" id="box-scene" onclick="openBox()">
        <div class="box"><div class="lid" id="lid"></div></div>
        <h2 style="color: #ff4d6d; margin-top: 40px; font-family: 'Great Vibes', cursive; font-size: 2.5rem;">For My Dear Safeeka ❤️</h2>
        <p style="color: white; opacity: 0.6;">Tap to open my heart for you</p>
    </div>

    <div id="cake-stage" onclick="cutCake()">
        <div class="heart-cake"></div>
        <h2 style="color: white; margin-top: 80px;">Safeeka, you are my world...</h2>
        <p style="color: #ff4d6d; font-weight: 600;">TAP THE HEART</p>
    </div>

    <div id="final-reveal">
        <div style="color: white; letter-spacing: 5px; font-size: 1rem;">HAPPY VALENTINE'S DAY</div>
        <h1 class="love-name">Safeeka</h1>

        <div class="message-card">
            <p>
                "എന്റെ ജീവിതത്തിലെ ഏറ്റവും വലിയ സന്തോഷം നീയാണ്. ഓരോ നിമിഷവും നീ എനിക്കരികിലുള്ളത് ഒരു അനുഗ്രഹമായി ഞാൻ കരുതുന്നു. വാക്കുകൾക്കും അപ്പുറം ഞാൻ നിന്നെ സ്നേഹിക്കുന്നു... ഇന്ന് മാത്രമല്ല, എന്നും എന്റെ ഹൃദയം നിനക്ക് മാത്രമുള്ളതാണ്." ❤️✨
            </p>
        </div>
        <p style="color: #ff4d6d; margin-top: 20px; font-weight: bold;">എന്നും നിന്റേത് മാത്രമായി!</p>
    </div>

    <script>
        function openBox() {
            document.getElementById('lid').style.transform = 'translateY(-220px) rotate(-25deg)';
            document.getElementById('lid').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('box-scene').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('box-scene').style.display = 'none';
                    document.getElementById('cake-stage').style.display = 'flex';
                }, 500);
            }, 600);
        }

        function cutCake() {
            triggerLoveExplosion();
            document.getElementById('cake-stage').style.transform = 'scale(0.8)';
            document.getElementById('cake-stage').style.opacity = '0';
            document.getElementById('cake-stage').style.transition = '0.5s';

            setTimeout(() => {
                document.getElementById('cake-stage').style.display = 'none';
                document.getElementById('final-reveal').style.display = 'block';
            }, 500);
        }

        function triggerLoveExplosion() {
            var end = Date.now() + (10 * 1000);
            var colors = ['#ff4d6d', '#ff758c', '#ffffff', '#ff0000'];

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: colors
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: colors
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            confetti({
                particleCount: 200,
                spread: 100,
                origin: { y: 0.6 },
                colors: colors
            });
        }
    </script>
</body>
</html>
