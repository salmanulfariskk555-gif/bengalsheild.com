<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasty Hub | Premium Food Delivery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
        .hero-bg {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1500');
            background-size: cover;
            background-position: center;
        }
        .glass-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        .food-card:hover img { transform: scale(1.1); transition: 0.5s; }
        .dark-mode {
    background-color: #1a202c !important;
    color: #f7fafc !important;
}
.dark-mode .bg-white {
    background-color: #2d3748 !important;
    color: #ffffff !important;
}
.dark-mode .text-gray-800 {
    color: #f7fafc !important;
}
.dark-mode .glass-nav {
    background: rgba(26, 32, 44, 0.95) !important;
}
    </style>
</head>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<div id="food-modal" class="fixed inset-0 z-[200] hidden bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
    <div class="bg-white rounded-3xl max-w-lg w-full overflow-hidden shadow-2xl animate-scale-up">
        <div class="relative h-64">
            <img id="modal-img" src="" class="w-full h-full object-cover">
            <button onclick="closeModal()" class="absolute top-4 right-4 bg-white/80 w-10 h-10 rounded-full flex items-center justify-center text-gray-800 hover:bg-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="p-8">
            <div class="flex justify-between items-start mb-4">
                <h3 id="modal-name" class="text-3xl font-bold text-gray-800"></h3>
                <span id="modal-price" class="text-2xl font-bold text-orange-600"></span>
            </div>
            <p id="modal-desc" class="text-gray-600 leading-relaxed mb-6">
                Our chef's special preparation using authentic spices and fresh ingredients. Served hot and fresh.
            </p>
            <div class="flex gap-4 mb-8">
                <span class="bg-orange-50 text-orange-700 px-3 py-1 rounded-lg text-sm font-bold"><i class="fas fa-fire mr-1"></i> Spicy</span>
                <span class="bg-blue-50 text-blue-700 px-3 py-1 rounded-lg text-sm font-bold"><i class="fas fa-clock mr-1"></i> 20-30 min</span>
            </div>
            <button onclick="addToCartFromModal()" class="w-full bg-orange-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-orange-700 transition shadow-lg">
                Add to Cart & Continue
            </button>
        </div>
    </div>
</div>
<body class="bg-gray-50">
<button onclick="toggleDarkMode()" class="text-gray-600 dark:text-orange-500 p-2 text-xl">
    <i id="dark-icon" class="fas fa-moon"></i>
</button>
    <nav class="glass-nav sticky top-0 z-50 shadow-sm p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold text-orange-600 tracking-tighter">TASTY<span class="text-gray-800">HUB</span></h1>
            <div class="flex items-center gap-6">
                <a href="#home" class="hidden md:block hover:text-orange-600 font-medium">Home</a>
                <a href="#menu" class="hidden md:block hover:text-orange-600 font-medium">Menu</a>
                <button onclick="toggleCart()" class="bg-orange-600 text-white px-5 py-2 rounded-full flex items-center gap-2 shadow-lg hover:bg-orange-700 transition">
                    <i class="fas fa-shopping-basket"></i>
                    <span id="cart-count" class="font-bold">0</span>
                </button>
            </div>
        </div>
    </nav>

    <section id="home" class="hero-bg h-[80vh] flex items-center justify-center text-center text-white px-4">
        <div class="max-w-3xl">
            <h2 class="text-5xl md:text-7xl font-bold mb-6">Flavor at your <span class="text-orange-500">Doorstep</span></h2>
            <p class="text-lg md:text-xl mb-8 opacity-90">Freshly prepared meals delivered in minutes. Order via WhatsApp for a personalized experience.</p>
            <a href="#menu" class="bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-full text-lg font-bold transition-all shadow-xl">Explore Menu</a>
        </div>
    </section>

    <section class="py-20 bg-white">
        <div class="container mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
            <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?auto=format&fit=crop&w=800" class="rounded-2xl shadow-2xl" alt="Chef Cooking">
            <div>
                <h3 class="text-orange-600 font-bold tracking-widest uppercase mb-2">Our Story</h3>
                <h2 class="text-4xl font-bold mb-6 text-gray-800">Authentic Taste, <br> Modern Convenience</h2>
                <p class="text-gray-600 text-lg leading-relaxed mb-6">
                    Tasty Hub started with a simple mission: to provide high-quality, delicious food that feels like home. We believe that good food shouldn't be complicated to order. That's why we've integrated our ordering system directly with WhatsApp, making it easier for you to customize your meal and get real-time updates from our kitchen.
                </p>
                <div class="flex gap-4">
                    <div class="text-center p-4 bg-orange-50 rounded-xl flex-1">
                        <p class="text-3xl font-bold text-orange-600">100%</p>
                        <p class="text-sm text-gray-500 font-medium">Fresh Ingredients</p>
                    </div>
                    <div class="text-center p-4 bg-orange-50 rounded-xl flex-1">
                        <p class="text-3xl font-bold text-orange-600">Fast</p>
                        <p class="text-sm text-gray-500 font-medium">Home Delivery</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="flex justify-center gap-4 mb-10">
    <button onclick="filterMenu('all')" class="px-6 py-2 bg-gray-200 rounded-full font-bold hover:bg-orange-500 hover:text-white transition">All</button>
    <button onclick="filterMenu('veg')" class="px-6 py-2 bg-green-100 text-green-700 rounded-full font-bold hover:bg-green-600 hover:text-white transition">Veg Only</button>
    <button onclick="filterMenu('nonveg')" class="px-6 py-2 bg-red-100 text-red-700 rounded-full font-bold hover:bg-red-600 hover:text-white transition">Non-Veg</button>
</div>

    <section id="menu" class="py-20 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold text-gray-800">Our Signature Dishes</h2>
                <p class="text-gray-500 mt-2">Top rated dishes loved by our customers</p>
            </div>
            <div id="food-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                </div>
        </div>
    </section>

    <div class="mt-8 space-y-4 border-t pt-6">
    <h4 class="font-bold text-gray-800">Delivery Details</h4>
    <input type="text" id="cust-name" placeholder="Your Name" class="w-full p-3 border rounded-xl focus:outline-orange-500">
    <input type="tel" id="cust-phone" placeholder="Mobile Number" class="w-full p-3 border rounded-xl focus:outline-orange-500">
    <textarea id="cust-address" placeholder="Full Delivery Address" class="w-full p-3 border rounded-xl focus:outline-orange-500" rows="3"></textarea>
</div>
<section class="py-20 bg-orange-50">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800">What Our Customers Say</h2>
            <div class="w-20 h-1 bg-orange-500 mx-auto mt-4"></div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-white p-8 rounded-3xl shadow-sm border border-orange-100">
                <div class="flex text-orange-400 mb-4 text-sm">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
                <p class="text-gray-600 italic mb-6">"The best Biriyani I've had recently! The WhatsApp ordering was super smooth and fast."</p>
                <div class="font-bold text-gray-800">- Rahul K.</div>
            </div>

            <div class="bg-white p-8 rounded-3xl shadow-sm border border-orange-100">
                <div class="flex text-orange-400 mb-4 text-sm">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                </div>
                <p class="text-gray-600 italic mb-6">"Fresh ingredients and amazing taste. Highly recommend the Alfham Mandi."</p>
                <div class="font-bold text-gray-800">- Sreela Nair</div>
            </div>

            <div class="bg-white p-8 rounded-3xl shadow-sm border border-orange-100">
                <div class="flex text-orange-400 mb-4 text-sm">
                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                </div>
                <p class="text-gray-600 italic mb-6">"Great service! I ordered at 9 PM and got my food hot and fresh. Very convenient."</p>
                <div class="font-bold text-gray-800">- Aby Joseph</div>
            </div>
        </div>
    </div>
</section>

    <div id="cart-sidebar" class="fixed top-0 right-0 h-full w-full md:w-[400px] bg-white shadow-2xl z-[100] translate-x-full transition-transform duration-300 p-8 overflow-y-auto">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-2xl font-bold text-gray-800">Your Order</h3>
            <button onclick="toggleCart()" class="text-gray-400 hover:text-red-500 text-3xl">&times;</button>
        </div>
        <div id="cart-items" class="space-y-6">
            </div>
        <div class="mt-12 border-t pt-6">
            <div class="flex justify-between text-2xl font-bold mb-8">
                <div class="mt-6 p-4 bg-orange-50 rounded-2xl border border-dashed border-orange-300">
    <p class="text-xs font-bold text-orange-600 mb-2 uppercase">Have a Coupon?</p>
    <div class="flex gap-2">
        <input type="text" id="coupon-input" placeholder="Enter Code" class="w-full p-2 text-sm border rounded-lg focus:outline-none uppercase">
        <button onclick="applyCoupon()" class="bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-orange-700">Apply</button>
    </div>
    <p id="coupon-msg" class="text-xs mt-2 hidden"></p>
</div>
                <span>Total:</span>
                <span class="text-orange-600">â‚¹<span id="total-price">0</span></span>
            </div>
            <button onclick="sendToWhatsApp()" class="w-full bg-green-600 text-white py-5 rounded-2xl font-bold text-lg hover:bg-green-700 transition-all flex justify-center items-center gap-3 shadow-lg">
                <i class="fab fa-whatsapp text-2xl"></i> Finalize on WhatsApp
            </button>
        </div>
    </div>
<button onclick="downloadReceipt()" class="w-full mt-2 bg-gray-100 text-gray-800 py-3 rounded-2xl font-bold hover:bg-gray-200 transition flex items-center justify-center gap-2">
    <i class="fas fa-file-download"></i> Download Receipt
</button>
<a href="https://wa.me/919876543210" target="_blank"
   class="fixed bottom-6 left-6 bg-green-500 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-2xl z-[99] hover:bg-green-600 transition-all hover:scale-110">
    <i class="fab fa-whatsapp text-3xl"></i>
    <span class="absolute left-16 bg-white text-gray-800 text-xs font-bold px-3 py-1 rounded-lg shadow-sm whitespace-nowrap opacity-0 hover:opacity-100 transition-opacity">Chat with us!</span>
</a>
<footer class="bg-gray-900 text-white pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">

                <div class="col-span-1 md:col-span-1">
                    <h3 class="text-2xl font-bold text-orange-500 mb-4">TASTY HUB</h3>
                    <p class="text-gray-400 leading-relaxed">
                        Bringing the finest flavors of Kerala straight to your home. Quality and taste you can trust.
                    </p>
                    <div class="flex gap-4 mt-6">
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-orange-600 transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-orange-600 transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-orange-600 transition"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>

                <div>
                    <h4 class="text-lg font-bold mb-6 border-b border-gray-700 pb-2">Quick Links</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li><a href="#home" class="hover:text-orange-500 transition">Home</a></li>
                        <li><a href="#menu" class="hover:text-orange-500 transition">Menu Specials</a></li>
                        <li><a href="#" class="hover:text-orange-500 transition">Our Story</a></li>
                        <li><a href="#" class="hover:text-orange-500 transition">Contact Us</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-bold mb-6 border-b border-gray-700 pb-2">Working Hours</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li class="flex justify-between"><span>Mon - Thu:</span> <span>10am - 10pm</span></li>
                        <li class="flex justify-between text-orange-500 font-bold"><span>Fri - Sun:</span> <span>10am - 11pm</span></li>
                        <li class="text-sm italic mt-4 text-gray-500">*Delivery hours may vary.</li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-bold mb-6 border-b border-gray-700 pb-2">Contact Us</h4>
                    <ul class="space-y-4 text-gray-400">
                        <li class="flex items-start gap-3">
                            <i class="fas fa-map-marker-alt mt-1 text-orange-500"></i>
                            <span>123 Foodie Street, <br>Kochi, Kerala 682001</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-phone text-orange-500"></i>
                            <span>+91 98765 43210</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-envelope text-orange-500"></i>
                            <span>hello@tastyhub.com</span>
                        </li>
                    </ul>
                </div>

            </div>

            <div class="border-t border-gray-800 pt-8 text-center text-gray-500 text-sm">
                <p>&copy; 2026 Tasty Hub. All rights reserved. | Designed for WhatsApp Ordering</p>
            </div>
        </div>
    </footer>
    <script>
        // --- 1. SET YOUR WHATSAPP NUMBER HERE ---
        const myNumber = "919876543210"; // E.g., 919000000000

        // --- 2. FOOD DATA (10 Items) ---
        const products = [
            { id: 1, name: "Chicken Biriyani", price: 180, img: "https://images.unsplash.com/photo-1563379091339-03b21bc4a6f8?auto=format&fit=crop&w=400" },
            { id: 2, name: "Beef Roast", price: 210, img: "https://images.unsplash.com/photo-1534939561122-3d290a019d12?auto=format&fit=crop&w=400" },
            { id: 3, name: "Ghee Roast Dosa", price: 80, img: "https://images.unsplash.com/photo-1668236543090-82eba5ee5976?auto=format&fit=crop&w=400" },
            { id: 4, name: "Alfham Mandi", price: 250, img: "https://images.unsplash.com/photo-1633945274405-b6c8069047b0?auto=format&fit=crop&w=400" },
            { id: 5, name: "Butter Chicken", price: 220, img: "https://images.unsplash.com/photo-1603894527134-99e44e391269?auto=format&fit=crop&w=400" },
            { id: 6, name: "Chilli Chicken", price: 190, img: "https://images.unsplash.com/photo-1525755662778-989d0524087e?auto=format&fit=crop&w=400" },
            { id: 7, name: "Fried Rice", price: 150, img: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?auto=format&fit=crop&w=400" },
            { id: 8, name: "Porotta (Set of 3)", price: 45, img: "https://images.unsplash.com/photo-1626132646529-5002175040e1?auto=format&fit=crop&w=400" },
            { id: 9, name: "Cold Coffee", price: 90, img: "https://images.unsplash.com/photo-1517701604599-bb29b565090c?auto=format&fit=crop&w=400" },
            { id: 10, name: "Gulab Jamun", price: 60, img: "https://images.unsplash.com/photo-1593701461250-d7b22dfd3a77?auto=format&fit=crop&w=400" }
        ];

        let cart = [];

        // Load Products
        const foodGrid = document.getElementById('food-grid');
        products.forEach(p => {
            foodGrid.innerHTML += `
                <div class="bg-white rounded-3xl shadow-sm overflow-hidden food-card border border-gray-100 transition-all duration-300">
                    <div class="overflow-hidden h-52">
                        <img src="${p.img}" class="w-full h-full object-cover" alt="${p.name}">
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold text-gray-800">${p.name}</h4>
                        <p class="text-gray-400 text-sm mt-1">Freshly cooked with premium spices.</p>
                        <div class="flex justify-between items-center mt-6">
                            <span class="text-2xl font-bold text-orange-600">â‚¹${p.price}</span>
                            <button onclick="addToCart(${p.id})" class="bg-gray-800 text-white p-3 rounded-xl hover:bg-orange-600 transition shadow-md">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        });

        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            sidebar.classList.toggle('translate-x-full');
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            updateCart();
            // Show feedback
            const btn = event.currentTarget;
            btn.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => { btn.innerHTML = '<i class="fas fa-plus"></i>'; }, 1000);
        }

        function updateCart() {
            document.getElementById('cart-count').innerText = cart.length;
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = "";
            let total = 0;

            cart.forEach((item, index) => {
                total += item.price;
                cartItems.innerHTML += `
                    <div class="flex justify-between items-center bg-gray-50 p-4 rounded-2xl animate-fade-in">
                        <div class="flex items-center gap-3">
                            <div class="font-bold text-gray-800">${item.name}</div>
                        </div>
                        <div class="flex items-center gap-4 font-bold">
                            <span>â‚¹${item.price}</span>
                            <button onclick="removeFromCart(${index})" class="text-red-400 hover:text-red-600"><i class="fas fa-trash-alt"></i></button>
                        </div>
                    </div>
                `;
            });
            document.getElementById('total-price').innerText = total;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function sendToWhatsApp() {
            if (cart.length === 0) {
                alert("Please add items to your cart first!");
                return;
            }

            let message = "*ðŸ” NEW ORDER FROM TASTY HUB*%0A";
            message += "------------------------------%0A";

            // Count occurrences for better listing
            const counts = {};
            cart.forEach(x => { counts[x.name] = (counts[x.name] || 0) + 1; });

            for (const name in counts) {
                message += `â€¢ ${name} x ${counts[name]}%0A`;
            }

            message += "------------------------------%0A";
            message += `*TOTAL AMOUNT: â‚¹${document.getElementById('total-price').innerText}*%0A%0A`;
            message += "_Please confirm and provide your delivery address._";

            window.open(`https://wa.me/${myNumber}?text=${message}`, '_blank');
        }
        // --- Updated Cart Function with Quantity Selector ---
function updateCart() {
    document.getElementById('cart-count').innerText = cart.length;
    const cartItems = document.getElementById('cart-items');
    cartItems.innerHTML = "";
    let total = 0;

    // Cart-ile items-ne group cheyyan (Eg: 2 Biriyani)
    const groupedCart = cart.reduce((acc, item) => {
        const found = acc.find(i => i.id === item.id);
        if (found) {
            found.qty += 1;
        } else {
            acc.push({ ...item, qty: 1 });
        }
        return acc;
    }, []);

    groupedCart.forEach((item) => {
        total += (item.price * item.qty);
        cartItems.innerHTML += `
            <div class="flex justify-between items-center bg-gray-50 p-4 rounded-2xl border border-gray-100">
                <div class="flex-1">
                    <p class="font-bold text-gray-800">${item.name}</p>
                    <p class="text-sm text-orange-600 font-bold">â‚¹${item.price}</p>
                </div>
                <div class="flex items-center gap-3 bg-white px-3 py-1 rounded-full shadow-sm border">
                    <button onclick="changeQty(${item.id}, -1)" class="text-orange-600 font-bold">-</button>
                    <span class="font-bold w-4 text-center">${item.qty}</span>
                    <button onclick="changeQty(${item.id}, 1)" class="text-orange-600 font-bold">+</button>
                </div>
            </div>
        `;
    });
    document.getElementById('total-price').innerText = total;
}

// Quantity maattanulla puthiya function
function changeQty(id, delta) {
    if (delta === 1) {
        const product = products.find(p => p.id === id);
        cart.push(product);
    } else {
        const index = cart.findLastIndex(p => p.id === id);
        if (index !== -1) cart.splice(index, 1);
    }
    updateCart();
}
        function sendToWhatsApp() {
    if (cart.length === 0) {
        alert("Please add items to your cart first!");
        return;
    }

    let message = "*ðŸ” NEW ORDER FROM TASTY HUB*%0A";
    message += "------------------------------%0A";

    // Grouping items for message
    const counts = {};
    cart.forEach(x => { counts[x.name] = (counts[x.name] || 0) + 1; });

    for (const name in counts) {
        message += `â€¢ ${name} x ${counts[name]}%0A`;
    }

    message += "------------------------------%0A";
    message += `*TOTAL: â‚¹${document.getElementById('total-price').innerText}*%0A`;

    window.open(`https://wa.me/${myNumber}?text=${message}`, '_blank');
}
        function sendToWhatsApp() {
    const name = document.getElementById('cust-name').value;
    const phone = document.getElementById('cust-phone').value;
    const address = document.getElementById('cust-address').value;

    // Check if fields are empty
    if (cart.length === 0) {
        alert("Cart is empty!");
        return;
    }
    if (!name || !phone || !address) {
        alert("Please fill in your Name, Phone and Address!");
        return;
    }

    let message = "*ðŸ± NEW ORDER - TASTY HUB*%0A";
    message += "------------------------------%0A";
    message += `*Customer:* ${name}%0A`;
    message += `*Phone:* ${phone}%0A`;
    message += `*Address:* ${address}%0A`;
    message += "------------------------------%0A";
    message += "*ORDER ITEMS:*%0A";

    // Grouping items for message
    const counts = {};
    cart.forEach(x => { counts[x.name] = (counts[x.name] || 0) + 1; });

    for (const item in counts) {
        message += `â€¢ ${item} x ${counts[item]}%0A`;
    }

    message += "------------------------------%0A";
    message += `*TOTAL AMOUNT: â‚¹${document.getElementById('total-price').innerText}*%0A%0A`;
    message += "_Please confirm this order!_";

    window.open(`https://wa.me/${myNumber}?text=${message}`, '_blank');
}
        function displayProducts(filter = 'all') {
    const foodGrid = document.getElementById('food-grid');
    foodGrid.innerHTML = "";

    const filtered = products.filter(p => {
        if(filter === 'all') return true;
        if(filter === 'veg') return p.isVeg === true;
        if(filter === 'nonveg') return p.isVeg === false;
    });

    filtered.forEach(p => {
        // Veg/Non-Veg icon color
        const iconColor = p.isVeg ? 'text-green-500' : 'text-red-500';

        foodGrid.innerHTML += `
            <div class="bg-white rounded-3xl shadow-sm overflow-hidden food-card border border-gray-100">
                <div class="relative overflow-hidden h-52">
                    <img src="${p.img}" class="w-full h-full object-cover">
                    <div class="absolute top-4 right-4 bg-white p-1 rounded-sm shadow-sm">
                        <i class="fas fa-stop-circle ${iconColor} text-xl"></i>
                    </div>
                </div>
                <div class="p-6">
                    <h4 class="text-xl font-bold text-gray-800">${p.name}</h4>
                    <div class="flex justify-between items-center mt-6">
                        <span class="text-2xl font-bold text-orange-600">â‚¹${p.price}</span>
                        <button onclick="addToCart(${p.id})" class="bg-gray-800 text-white p-3 rounded-xl hover:bg-orange-600 shadow-md transition">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        `;
    });
}

function filterMenu(type) {
    displayProducts(type);
}

// Initial load
displayProducts('all');
        function toggleDarkMode() {
    const body = document.body;
    const icon = document.getElementById('dark-icon');

    body.classList.toggle('dark-mode');

    if (body.classList.contains('dark-mode')) {
        icon.classList.replace('fa-moon', 'fa-sun');
        icon.style.color = "#fbbf24"; // Manja niram suryanu
    } else {
        icon.classList.replace('fa-sun', 'fa-moon');
        icon.style.color = "";
    }
}
        let discount = 0;

function applyCoupon() {
    const code = document.getElementById('coupon-input').value.toUpperCase();
    const msg = document.getElementById('coupon-msg');

    // Example Coupon: FIRST50 (â‚¹50 Discount)
    if (code === "FIRST50") {
        discount = 50;
        msg.innerText = "ðŸŽ‰ Promo Applied: â‚¹50 Off!";
        msg.className = "text-xs mt-2 text-green-600 font-bold";
        msg.classList.remove('hidden');
    } else {
        discount = 0;
        msg.innerText = "âŒ Invalid Coupon Code";
        msg.className = "text-xs mt-2 text-red-600 font-bold";
        msg.classList.remove('hidden');
    }
    updateCart(); // Price update cheyyan
}

// updateCart function-il total calculate cheyyunna bhagath
// total = total - discount; ennu koodi cherkanam.
        // Confetti Animation Trigger
confetti({
    particleCount: 150,
    spread: 70,
    origin: { y: 0.6 },
    colors: ['#ea580c', '#fbbf24', '#22c55e'] // Orange, Yellow, Green colors
});

// Kurachu nerathekku animation kaanikkan vendi 1 second delay
setTimeout(() => {
    window.open(`https://wa.me/${myNumber}?text=${message}`, '_blank');
}, 1000);
        let currentModalProductId = null;

function openModal(id) {
    const product = products.find(p => p.id === id);
    currentModalProductId = id;

    document.getElementById('modal-img').src = product.img;
    document.getElementById('modal-name').innerText = product.name;
    document.getElementById('modal-price').innerText = "â‚¹" + product.price;

    document.getElementById('food-modal').classList.remove('hidden');
    document.getElementById('food-modal').classList.add('flex');
}

function closeModal() {
    document.getElementById('food-modal').classList.add('hidden');
    document.getElementById('food-modal').classList.remove('flex');
}

function addToCartFromModal() {
    addToCart(currentModalProductId);
    closeModal();
}
        function downloadReceipt() {
    const name = document.getElementById('cust-name').value || "Customer";
    const addr = document.getElementById('cust-address').value || "No Address Provided";
    const total = document.getElementById('total-price').innerText;

    if (cart.length === 0) return alert("Cart is empty!");

    let receiptContent = `
        ----------------------------------
                TASTY HUB RECEIPT
        ----------------------------------
        Date: ${new Date().toLocaleString()}
        Customer: ${name}
        Address: ${addr}
        ----------------------------------
        ITEMS:
    `;

    const counts = {};
    cart.forEach(x => counts[x.name] = (counts[x.name] || 0) + 1);
    for (let n in counts) {
        receiptContent += `\nâ€¢ ${n} x ${counts[n]}`;
    }

    receiptContent += `
        \n----------------------------------
        TOTAL AMOUNT: â‚¹${total}
        ----------------------------------
        Thank you for ordering with Tasty Hub!
    `;

    // Create a temporary link to download as .txt file
    const element = document.createElement('a');
    const file = new Blob([receiptContent], {type: 'text/plain'});
    element.href = URL.createObjectURL(file);
    element.download = `Receipt_TastyHub_${Date.now()}.txt`;
    document.body.appendChild(element);
    element.click();
}
    </script>
</body>
</html>
